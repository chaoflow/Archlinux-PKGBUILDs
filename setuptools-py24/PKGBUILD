# Maintainer: Florian Friesdorf <flo@chaoflow.net>
# Contributor: simo <simo@archlinux.org>
# Contributor: William Rea <sillywilly@gmail.com>
# Contributor: Todd Maynard <arch@toddmaynard.com>

pkgname=setuptools-py24
_pkgname=`echo $pkgname |sed -e 's,-py24$,,'`
pkgver=0.6c9
pkgrel=2
pkgdesc="setuptools is a collection of enhancements to the Python distutils"
license=('PSF')
arch=(i686 x86_64)
url="http://peak.telecommunity.com/DevCenter/setuptools"
depends=('python24')
source=(http://cheeseshop.python.org/packages/source/s/$_pkgname/$_pkgname-$pkgver.tar.gz)

md5sums=('3864c01d9c719c8924c455714492295e')

build() {
  cd $startdir/src/$_pkgname-$pkgver
  mkdir -p $startdir/pkg/usr/lib/python2.4/site-packages
  python2.4 setup.py install --root=$startdir/pkg
  echo "/usr/lib/python2.4/site-packages/$_pkgname-$pkgver-py2.4.egg" > $startdir/pkg/usr/lib/python2.4/site-packages/$_pkgname.pth

  # we don't provide a non-suffixed easy_install
  echo "Removing non-suffixed easy_install"
  rm $pkgdir/usr/bin/easy_install
}
