# $Id: PKGBUILD,v 1.16 2009/05/26 09:47:22 sergej Exp $
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: Morgan LEFIEUX <comete_AT_archlinuxfr.org>

pkgname=python-ldap
pkgver=2.3.8
pkgrel=1
pkgdesc="Provides an object-oriented API to access LDAP directory servers from Python programs"
arch=('i686' 'x86_64')
url="http://python-ldap.sourceforge.net"
license=('custom')
depends=('python' 'libldap')
source=(http://arch.pp.ru/~sergej/dl/python-ldap-$pkgver.tar.bz2)
md5sums=('fc4ef152b2a4c5f5e99a981eb9dda145')

build() {
  cd $startdir/src/$pkgname

  sed -i 's|<sasl.h>|<sasl/sasl.h>|' Modules/LDAPObject.c

  python setup.py build || return 1
  python setup.py install --root $startdir/pkg || return 1

  install -D -m644 LICENCE $startdir/pkg/usr/share/licenses/$pkgname/LICENSE
}
